你按照我的意思改（主人公名字从琪琪改为星野优奈）：

1. 取消掉energy能量限制，玩家可以自由活动
2. 还是加上堕落值系统吧，这个也很重要。阶段性（给每个阶段增加名字）堕落值：A：0-50；B：51-150；C：151-300；D：301-500；E：501-1000；E+：1000+
3. 欲望值系统也要分阶段：清醒：0-24；微热：25-49；发情：50-74；濒临崩溃：75 - 99；绝顶：100；强制寸止：101-200
4. 时间不按照固定时间走，而是显示或计算llm返回的时间（或者时间增量），本地读取时间要分时段：上午；中午；下午；傍晚；夜晚；半夜。
5. 以一个最小事件链为例，你先按照我想的事件写：

固定事件模板（暂定）：注意，表格中写明触发条件和结束改变量是强制要求和强制值，未写明的让llm返回增量或数据。例如王教授事件2，结束改变的欲望值和堕落值应为llm根据事件的严重程度返回的自定义增量。

| 事件名称        | 触发时间 | 触发地点     | 前置事件        | 其余触发条件（尽量卡着阶段设定） | 结束时间 | 结束地点     | 结束改变的值 | 结束获得的物品 | 事件概要                                                     |
| --------------- | -------- | ------------ | --------------- | -------------------------------- | -------- | ------------ | ------------ | -------------- | ------------------------------------------------------------ |
| 王教授上课1     | 上午     | 教室         |                 | 欲望值小于25                     | 中午     | 教室         |              |                | 王教授的课并提问优奈，优奈回答的很好。                       |
| 王教授上课2     | 上午     | 教室         |                 | 欲望值大于25小于50               | 中午     | 教室         |              |                | 王教授看优奈脸颊似乎有些微热，优奈被王教授请到讲台上作答题目，王教授趁机骚扰。 |
| 王教授上课3     | 上午     | 教室         |                 | 欲望值大于50                     | 中午     | 王教授办公室 |              |                | 王教授看优奈发情，优奈被王教授请到讲台上作答题目，王教授趁机骚扰，优奈没写出来答案，下课领到自己办公室批评并骚扰。 |
| 王教授兼职事件1 | 上午     | 王教授办公室 |                 |                                  | 中午     | 王教授办公室 | SC+200       |                | 帮助王教授整理学生档案，同时被王教授语言骚扰。               |
| 王教授兼职事件2 | 上午     | 王教授办公室 | 王教授兼职事件1 |                                  | 中午     | 王教授办公室 | SC+250       |                | 帮助王教授整理学生档案，同时被王教授肢体骚扰。               |
| 王教授兼职事件3 | 上午     | 王教授办公室 | 王教授兼职事件2 | 堕落值大于50 并且 欲望值大于50   | 中午     | 王教授办公室 | SC+300       |                | 帮助王教授整理学生档案，同时被王教授肢体骚扰，自己开始默许王教授的动作。 |
| 上午结算1       | 上午     |              |                 | 堕落值小于50                     |          |              | SC-180       |                | 时间来到第二天自动扣费。                                     |
| 上午结算2       | 上午     |              |                 | 堕落值大于50小于150              |          |              | SC-360       |                | 时间来到第二天自动扣费。                                     |
| 家中自慰事件1   |          | 优奈单人宿舍 |                 | 欲望值大于50                     |          | 优奈单人宿舍 | 欲望值变为0  |                | 优奈害羞地自慰至高潮。                                       |
| 家中自慰事件2   |          | 优奈单人宿舍 | 家中自慰事件1   | 欲望值大于50 并且 堕落值大于50   |          | 优奈单人宿舍 | 欲望值变为0  |                | 优奈习惯地自慰至高潮。                                       |

6. 当触发事件时，给事件加一个正在运行的状态，这样在一个事件内，用户可以根据自己的需求自由决定是否要进行多轮对话（有的用户喜欢事件A，就可以多玩几轮，有的用户不喜欢，那就可以直接退出事件）。这样事件之中，不要让llm改变时间，当用户返回结束事件时再跳转时间。
7. 故事和剧情的选项绝大多数不应该由本地事件定死，而是由llm自由返回
8. 当一个事件可以触发时，应该在额外的选项中告知用户可以触发事件
9. 也就是现在有时间、金钱、堕落值、欲望值系统和几个事件和一个NPC以及三个地点。